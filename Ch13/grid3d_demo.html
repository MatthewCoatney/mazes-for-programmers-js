<!DOCTYPE html>
<html>
<head>
	<title>Mazes For Programmers - Chapter 12</title>
	<style>
		canvas {
			image-rendering: pixelated;
		}
	</style>
</head>
<body>
	<canvas id='output'></canvas>
	<script src='Cell.js'></script>
	<script src='Cell3D.js'></script>
	<script src='Grid.js'></script>
	<script src='Grid3D.js'></script>
	<script src='RecursiveBacktracker.js'></script>
	<script>
		let maze = new RecursiveBacktracker();
		let level = 3;
		let h = 3;
		let w = 3;
		let grid = new Grid3D(level, h, w);
		maze.on(grid);
		// grid.braid(0.5);

		// console.log(grid.toString());

		// let start = grid.get_cell(Math.floor(grid.rows / 2), Math.floor(grid.columns / 2));
		// grid.set_distances(start.distances());

		let cellSize = 40;
		let margin = cellSize / 2
		let grid_width = cellSize * grid.columns
		let grid_height = cellSize * grid.rows

		let img_width = grid_width * grid.levels + (grid.levels - 1) * margin
		let img_height = grid_height

		let output = document.getElementById('output');
		output.width = img_width + 1;
		output.height = img_height + 1;
		let ctx = output.getContext('2d');
		grid.to_img(ctx, cellSize);

	</script>
</body>
</html>